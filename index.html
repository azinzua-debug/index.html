<script>
const API_URL = "/api/proxy"; // ✅ No pongas la IP directa aquí

async function cargarPerfiles() {
  const contenedor = document.getElementById("perfiles");
  try {
    const res = await fetch(API_URL);
    const perfiles = await res.json();

    contenedor.innerHTML = perfiles.map(p => `
      <div>
        <h2>${p.nombre}</h2>
        <p>${p.descripcion}</p>
      </div>
    `).join("");
  } catch (err) {
    console.error("Error al cargar:", err);
    contenedor.innerHTML = "<p style='color:red;'>Error al cargar perfiles.</p>";
  }
}
cargarPerfiles();
</script>
