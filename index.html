<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸŽ­ Perfiles ArtÃ­sticos</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>ðŸŽ­ Perfiles ArtÃ­sticos</h1>

  <div class="filtros">
    <select id="rolFiltro">
      <option value="todos">Todos los roles</option>
      <option value="actor">Actor</option>
      <option value="dibujante">Dibujante</option>
      <option value="mÃºsico">MÃºsico</option>
    </select>

    <select id="tipoFiltro">
      <option value="todos">Todos</option>
      <option value="aprendiz">Aprendiz</option>
      <option value="mentor">Mentor</option>
      <option value="ambos">Ambos</option>
    </select>
  </div>

  <div id="perfiles"></div>

  <script>
    const perfiles = [
      { id: 1, nombre: "Fuegito", rol: "aprendiz", categoria: "dibujante", colorNivel: 1 },
      { id: 2, nombre: "Alicia", rol: "mentor", categoria: "actor", colorNivel: 2 },
      { id: 3, nombre: "Luna", rol: "ambos", categoria: "mÃºsico", colorNivel: 3 },
    ];

    const colorInicio = "#ff0000"; // rojo
    const colorFinal = "#8000ff";  // morado

    function interpolarColor(color1, color2, factor) {
      const c1 = parseInt(color1.slice(1), 16);
      const c2 = parseInt(color2.slice(1), 16);
      const r1 = (c1 >> 16) & 255, g1 = (c1 >> 8) & 255, b1 = c1 & 255;
      const r2 = (c2 >> 16) & 255, g2 = (c2 >> 8) & 255, b2 = c2 & 255;
      const r = Math.round(r1 + factor * (r2 - r1));
      const g = Math.round(g1 + factor * (g2 - g1));
      const b = Math.round(b1 + factor * (b2 - b1));
      return `rgb(${r}, ${g}, ${b})`;
    }

    function renderizarPerfiles() {
      const rolFiltro = document.getElementById("rolFiltro").value;
      const tipoFiltro = document.getElementById("tipoFiltro").value;
      const contenedor = document.getElementById("perfiles");
      contenedor.innerHTML = "";

      const filtrados = perfiles.filter(p =>
        (rolFiltro === "todos" || p.categoria === rolFiltro) &&
        (tipoFiltro === "todos" || p.rol === tipoFiltro)
      );

      if (filtrados.length === 0) {
        contenedor.innerHTML = "<p>No se encontraron perfiles.</p>";
        return;
      }

      const x = filtrados.length;
      filtrados.forEach((p, i) => {
        const color = interpolarColor(colorInicio, colorFinal, i / (x - 1));
        const div = document.createElement("div");
        div.className = "perfil";
        div.style.borderColor = color;
        div.innerHTML = `
          <h2>${p.nombre}</h2>
          <p><b>Rol:</b> ${p.rol}</p>
          <p><b>CategorÃ­a:</b> ${p.categoria}</p>
          <button onclick="verPerfil(${p.id})">Ver Perfil</button>
        `;
        contenedor.appendChild(div);
      });
    }

    function verPerfil(id) {
      // Redirige a la pÃ¡gina del perfil con su ID
      window.location.href = `perfil.html?id=${id}`;
    }

    document.getElementById("rolFiltro").addEventListener("change", renderizarPerfiles);
    document.getElementById("tipoFiltro").addEventListener("change", renderizarPerfiles);

    renderizarPerfiles();
  </script>
</body>
</html>
